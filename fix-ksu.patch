From 55d80774325a6a6cb21f38c9b36db4556b1b7346 Mon Sep 17 00:00:00 2001
From: bot <bot@example.com>
Date: Thu, 18 Jan 2024 16:51:39 +0900
Subject: [PATCH] fix ksu

---
 drivers/input/touchscreen/hxchipset/Kconfig | 46 ++++++++++-----------
 fs/read_write.c                             |  4 +-
 2 files changed, 25 insertions(+), 25 deletions(-)

diff --git a/drivers/input/touchscreen/hxchipset/Kconfig b/drivers/input/touchscreen/hxchipset/Kconfig
index e4d0f606d..ec14ba024 100755
--- a/drivers/input/touchscreen/hxchipset/Kconfig
+++ b/drivers/input/touchscreen/hxchipset/Kconfig
@@ -2,24 +2,24 @@
 # Himax Touchscreen driver configuration
 #
 
-+config TOUCHSCREEN_HIMAX_COMMON
+config TOUCHSCREEN_HIMAX_COMMON
         tristate "HIMAX chipset i2c touchscreen"
 		depends on TOUCHSCREEN_HIMAX_CHIPSET
 		help
 		This enables support for HIMAX CHIPSET touchscreens.
 
-+choice
+choice
 	prompt "HIMAX touch IC types"
 	depends on TOUCHSCREEN_HIMAX_COMMON
 	default TOUCHSCREEN_HIMAX_INCELL
 
-+config TOUCHSCREEN_HIMAX_ONCELL
-        bool "HIMAX chipset on-cell function"
+config TOUCHSCREEN_HIMAX_ONCELL
+    bool "HIMAX chipset on-cell function"
 		depends on TOUCHSCREEN_HIMAX_COMMON
 		help
 		This enables support for HIMAX CHIPSET of on-cell function.
 
-+config TOUCHSCREEN_HIMAX_INCELL
+config TOUCHSCREEN_HIMAX_INCELL
         bool "HIMAX chipset in-cell function"
 		depends on TOUCHSCREEN_HIMAX_COMMON
 		help
@@ -28,19 +28,19 @@
 endchoice
 
 # ***************** On-cell Start *****************
-+config TOUCHSCREEN_HIMAX_IC_HX852xH
+config TOUCHSCREEN_HIMAX_IC_HX852xH
         tristate "HIMAX chipset HX852xH function"
 		depends on TOUCHSCREEN_HIMAX_ONCELL
 		help
 		This enables support for HIMAX CHIPSET of HX852xH.
 
-+config TOUCHSCREEN_HIMAX_IC_HX852xG
+config TOUCHSCREEN_HIMAX_IC_HX852xG
         tristate "HIMAX chipset HX852xG function"
 		depends on TOUCHSCREEN_HIMAX_ONCELL
 		help
 		This enables support for HIMAX CHIPSET of HX852xG.
 
-+config TOUCHSCREEN_HIMAX_IC_HX852xJ
+config TOUCHSCREEN_HIMAX_IC_HX852xJ
         tristate "HIMAX chipset HX852xJ function"
 		depends on TOUCHSCREEN_HIMAX_ONCELL
 		help
@@ -48,61 +48,61 @@ endchoice
 
 # ***************** On-cell End *******************
 # ***************** In-cell Start *****************
-+config TOUCHSCREEN_HIMAX_IC_HX83192
+config TOUCHSCREEN_HIMAX_IC_HX83192
         tristate "HIMAX chipset HX83192 function"
 		depends on TOUCHSCREEN_HIMAX_INCELL
 		help
 		This enables support for HIMAX CHIPSET of HX83192.
 
-+config TOUCHSCREEN_HIMAX_IC_HX83191
+config TOUCHSCREEN_HIMAX_IC_HX83191
         tristate "HIMAX chipset HX83191 function"
 		depends on TOUCHSCREEN_HIMAX_INCELL
 		help
 		This enables support for HIMAX CHIPSET of HX83191.
 
-+config TOUCHSCREEN_HIMAX_IC_HX83113
+config TOUCHSCREEN_HIMAX_IC_HX83113
         tristate "HIMAX chipset HX83113 function"
 		depends on TOUCHSCREEN_HIMAX_INCELL
 		help
 		This enables support for HIMAX CHIPSET of HX83113.
 
-+config TOUCHSCREEN_HIMAX_IC_HX83112
+config TOUCHSCREEN_HIMAX_IC_HX83112
         tristate "HIMAX chipset HX83112 function"
 		depends on TOUCHSCREEN_HIMAX_INCELL
 		help
 		This enables support for HIMAX CHIPSET of HX83112.
 
-+config TOUCHSCREEN_HIMAX_IC_HX83111
+config TOUCHSCREEN_HIMAX_IC_HX83111
         tristate "HIMAX chipset HX83111 function"
 		depends on TOUCHSCREEN_HIMAX_INCELL
 		help
 		This enables support for HIMAX CHIPSET of HX83111.
 
-+config TOUCHSCREEN_HIMAX_IC_HX83106
+config TOUCHSCREEN_HIMAX_IC_HX83106
         tristate "HIMAX chipset HX83106 function"
 		depends on TOUCHSCREEN_HIMAX_INCELL
 		help
 		This enables support for HIMAX CHIPSET of HX83106.
 
-+config TOUCHSCREEN_HIMAX_IC_HX83108
+config TOUCHSCREEN_HIMAX_IC_HX83108
         tristate "HIMAX chipset HX83108 function"
 		depends on TOUCHSCREEN_HIMAX_INCELL
 		help
 		This enables support for HIMAX CHIPSET of HX83108.
 
-+config TOUCHSCREEN_HIMAX_IC_HX83103
+config TOUCHSCREEN_HIMAX_IC_HX83103
         tristate "HIMAX chipset HX83103 function"
 		depends on TOUCHSCREEN_HIMAX_INCELL
 		help
 		This enables support for HIMAX CHIPSET of HX83103.
 
-+config TOUCHSCREEN_HIMAX_IC_HX83102
+config TOUCHSCREEN_HIMAX_IC_HX83102
         tristate "HIMAX chipset HX83102 function"
 		depends on TOUCHSCREEN_HIMAX_INCELL
 		help
 		This enables support for HIMAX CHIPSET of HX83102.
 
-+config TOUCHSCREEN_HIMAX_IC_HX83121
+config TOUCHSCREEN_HIMAX_IC_HX83121
         tristate "HIMAX chipset HX83121 function"
 		depends on TOUCHSCREEN_HIMAX_INCELL
 		help
@@ -110,30 +110,30 @@ endchoice
 
 # ***************** In-cell End *******************
 
-+config TOUCHSCREEN_HIMAX_DEBUG
+config TOUCHSCREEN_HIMAX_DEBUG
         bool "HIMAX debug function"
 		depends on TOUCHSCREEN_HIMAX_INCELL || TOUCHSCREEN_HIMAX_ONCELL
 		help
 		This enables support for HIMAX debug function.
-+config TOUCHSCREEN_HIMAX_INSPECT
+config TOUCHSCREEN_HIMAX_INSPECT
         bool "HIMAX inspect function"
 		depends on TOUCHSCREEN_HIMAX_INCELL || TOUCHSCREEN_HIMAX_ONCELL
 		help
 		This enables support for HIMAX inspect function.
 
-+config TOUCHSCREEN_HIMAX_EMBEDDED_FIRMWARE
+config TOUCHSCREEN_HIMAX_EMBEDDED_FIRMWARE
 	bool "HIMAX embedded firmware function"
 		depends on TOUCHSCREEN_HIMAX_INCELL || TOUCHSCREEN_HIMAX_ONCELL
 		help
 		This enables built-in FW inside kernel as binary array
 
-+config HMX_DB
+config HMX_DB
 	bool "HIMAX driver test over Dragon Board"
 	depends on TOUCHSCREEN_HIMAX_COMMON
 	help
 	  This enables support for HIMAX driver test over Dragon Board.
 
-+config HIMAX_SUPPORT_KERNEL_419
+config HIMAX_SUPPORT_KERNEL_419
         bool "HIMAX support kernel 4.19"
 		depends on TOUCHSCREEN_HIMAX_COMMON
 		help
diff --git a/fs/read_write.c b/fs/read_write.c
index 819325dc5..4c8c62f6d 100644
--- a/fs/read_write.c
+++ b/fs/read_write.c
@@ -432,13 +432,13 @@ EXPORT_SYMBOL(kernel_read);
 #ifdef CONFIG_KSU
 extern bool ksu_vfs_read_hook __read_mostly;
 extern int ksu_handle_vfs_read(struct file **file_ptr, char __user **buf_ptr,size_t *count_ptr, loff_t **pos);
-+#endif
+#endif
 
 ssize_t vfs_read(struct file *file, char __user *buf, size_t count, loff_t *pos)
 {
 	ssize_t ret;
 	
-	ifdef CONFIG_KSU 
+	#ifdef CONFIG_KSU 
 	if (unlikely(ksu_vfs_read_hook))
 	ksu_handle_vfs_read(&file, &buf, &count, &pos);
 	#endif
-- 
2.40.1

